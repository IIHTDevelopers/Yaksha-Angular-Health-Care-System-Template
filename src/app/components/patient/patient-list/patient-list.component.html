<div class="patient-list-container">
    <h2>Patients</h2>

    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

    <button (click)="showCreatePatientForm()" class="btn">Create New Patient</button>

    <ul class="patient-list">
        <li *ngFor="let patient of patients" (click)="selectPatient(patient)">
            {{ patient.name }} (ID: {{ patient.id }})
        </li>
    </ul>

    <div *ngIf="selectedPatient" class="patient-details">
        <h3>Patient Details</h3>
        <div>
            <label>Name: </label>
            <input [(ngModel)]="selectedPatient.name" placeholder="Name">
        </div>
        <div>
            <label>Age: </label>
            <input type="number" [(ngModel)]="selectedPatient.age" placeholder="Age">
        </div>
        <div>
            <label>Contact Details: </label>
            <input [(ngModel)]="selectedPatient.contactDetails" placeholder="Contact Details">
        </div>
        <div>
            <label>Medical History: </label>
            <textarea [(ngModel)]="selectedPatient.medicalHistory" placeholder="Medical History"></textarea>
        </div>
        <div>
            <label>Current Medications: </label>
            <input [(ngModel)]="selectedPatient.currentMedications" placeholder="Current Medications">
        </div>
        <div>
            <label>Assigned Regimens: </label>
            <input [(ngModel)]="selectedPatient.assignedRegimens" placeholder="Assigned Regimens">
        </div>
        <button (click)="updatePatient(selectedPatient)" class="btn">Update Patient</button>
        <button (click)="deletePatient(selectedPatient)" class="btn">Delete Patient</button>
    </div>

    <div *ngIf="newPatient" class="patient-details">
        <h3>New Patient</h3>
        <div>
            <label>Name: </label>
            <input [(ngModel)]="newPatient.name" placeholder="Name">
        </div>
        <div>
            <label>Age: </label>
            <input type="number" [(ngModel)]="newPatient.age" placeholder="Age">
        </div>
        <div>
            <label>Contact Details: </label>
            <input [(ngModel)]="newPatient.contactDetails" placeholder="Contact Details">
        </div>
        <div>
            <label>Medical History: </label>
            <textarea [(ngModel)]="newPatient.medicalHistory" placeholder="Medical History"></textarea>
        </div>
        <div>
            <label>Current Medications: </label>
            <input [(ngModel)]="newPatient.currentMedications" placeholder="Current Medications">
        </div>
        <div>
            <label>Assigned Regimens: </label>
            <input [(ngModel)]="newPatient.assignedRegimens" placeholder="Assigned Regimens">
        </div>
        <button (click)="createPatient()" class="btn">Add Patient</button>
    </div>
</div>